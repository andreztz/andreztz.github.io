<!doctype html><html><head><title>Verificação ortográfica usando o Neovim - André Santos</title><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="André P. Santos"><link rel="shortcut icon" type=image/x-icon href=https://andreztz.github.io/img/favicon.ico><link rel=stylesheet href=https://andreztz.github.io/style.min.39acacc5d2051426f655a6b7fbf4786fbd0fd8fffd09322c9b497ef0f7439b3f.css integrity="sha256-OaysxdIFFCb2Vaa3+/R4b70P2P/9CTIsm0l+8PdDmz8="><link rel=stylesheet href=https://andreztz.github.io/style-dark.min.0a647fb6c07e04b77b54fa0515d0a683d39ecdb251dba960fe1f966f7ff36fc2.css media="(prefers-color-scheme: dark)" integrity="sha256-CmR/tsB+BLd7VPoFFdCmg9OezbJR26lg/h+Wb3/zb8I="><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.8.1/css/all.css integrity=sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf crossorigin=anonymous><link rel=stylesheet href=https://andreztz.github.io/css/custom.css><link rel=stylesheet href=https://andreztz.github.io/css/syntax.css><meta property="og:title" content="Verificação ortográfica usando o Neovim"><meta property="og:description" content="Verificação ortográfica usando o neovim O neovim usa o formato de arquivo .spl, esse contém palavras de uma determinada linguagem, a quais são usadas para fazer a verificação ortográfica. O arquivo .spl é arquivo binário o qual proporciona o rápido carregamento da lista de palavras ao mesmo tempo que a mantém pequena.
O arquivo .spl pode ser criado a partir de arquivos myspell .aff e .dic usados pelo verificador ortográfico VERO sigla que significa VERificador Ortografico do LibreOffice."><meta property="og:type" content="article"><meta property="og:url" content="https://andreztz.github.io/blog/posts/neovim_spell_check/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2022-05-15T22:24:09-03:00"><meta property="article:modified_time" content="2022-05-15T22:24:09-03:00"><meta itemprop=name content="Verificação ortográfica usando o Neovim"><meta itemprop=description content="Verificação ortográfica usando o neovim O neovim usa o formato de arquivo .spl, esse contém palavras de uma determinada linguagem, a quais são usadas para fazer a verificação ortográfica. O arquivo .spl é arquivo binário o qual proporciona o rápido carregamento da lista de palavras ao mesmo tempo que a mantém pequena.
O arquivo .spl pode ser criado a partir de arquivos myspell .aff e .dic usados pelo verificador ortográfico VERO sigla que significa VERificador Ortografico do LibreOffice."><meta itemprop=datePublished content="2022-05-15T22:24:09-03:00"><meta itemprop=dateModified content="2022-05-15T22:24:09-03:00"><meta itemprop=wordCount content="523"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:image content="https://andreztz.github.io//img/avatar.jpg"><meta name=twitter:title content="Verificação ortográfica usando o Neovim"><meta name=twitter:description content="Verificação ortográfica usando o neovim O neovim usa o formato de arquivo .spl, esse contém palavras de uma determinada linguagem, a quais são usadas para fazer a verificação ortográfica. O arquivo .spl é arquivo binário o qual proporciona o rápido carregamento da lista de palavras ao mesmo tempo que a mantém pequena.
O arquivo .spl pode ser criado a partir de arquivos myspell .aff e .dic usados pelo verificador ortográfico VERO sigla que significa VERificador Ortografico do LibreOffice."><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-N2DNZ49Z76","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body><h1>Verificação ortográfica usando o Neovim</h1><header><div class=avatar><img class=avatarMask src=https://andreztz.github.io//img/avatar.jpg alt>
<a href=https://andreztz.github.io/><img class=avatar-border src=https://andreztz.github.io//img/avatar-border.svg alt></a></div><h2><a class=author href=https://andreztz.github.io/>André P. Santos</a></h2></header><p class=date>5 May, 2022</p><div id=contentBody><h1 id=verificação-ortográfica-usando-o-neovim>Verificação ortográfica usando o neovim</h1><p>O neovim usa o formato de arquivo <code>.spl</code>, esse contém palavras de uma determinada linguagem, a quais são usadas para fazer a verificação ortográfica. O arquivo <code>.spl</code> é arquivo binário o qual proporciona o rápido carregamento da lista de palavras ao mesmo tempo que a mantém pequena.</p><p>O arquivo <code>.spl</code> pode ser criado a partir de arquivos myspell <code>.aff</code> e <code>.dic</code> usados pelo verificador ortográfico <a href=https://pt-br.libreoffice.org/projetos/vero/#baixarvero>VERO</a> sigla que significa <strong>VER</strong>ificador <strong>O</strong>rtografico do LibreOffice.</p><h3 id=gerar-um-arquivo-spellhttpsneovimiodocuserspellhtmlspell-mkspell><a href=https://neovim.io/doc/user/spell.html#spell-mkspell>Gerar um arquivo spell</a></h3><p>Para gerar o arquivo <code>.spl</code> português do Brasil siga os passos a seguir:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ mkdir /tmp/vero <span class=o>&amp;&amp;</span> <span class=nb>cd</span> /tmp/vero
</span></span><span class=line><span class=cl>$ wget https://pt-br.libreoffice.org/assets/Uploads/PT-BR-Documents/VERO/VeroptBR3215AOC.oxt
</span></span><span class=line><span class=cl>$ file VeroptBR3215AOC.oxt
</span></span><span class=line><span class=cl>VeroptBR3215AOC.oxt: Zip archive data, at least v2.0 to extract, compression <span class=nv>method</span><span class=o>=</span>deflate
</span></span><span class=line><span class=cl>$ unzip VeroptBR3215AOC.oxt
</span></span></code></pre></div><p>Abra o vim no diretório corrente e execute o comando <code>:mkspell pt pt_BR</code> para gerar o <code>.spl</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>:mkspell pt pt_BR
</span></span><span class=line><span class=cl><span class=c1># ... Saída suprimida</span>
</span></span><span class=line><span class=cl>Reading dictionary file pt_BR.dic...
</span></span><span class=line><span class=cl>Compressed <span class=k>case</span>-folded of <span class=m>16207519</span> nodes<span class=p>;</span> <span class=m>290324</span> <span class=o>(</span>1%<span class=o>)</span> remaining             
</span></span><span class=line><span class=cl>Compressed keep-case of <span class=m>189406</span> nodes<span class=p>;</span> <span class=m>10459</span> <span class=o>(</span>5%<span class=o>)</span> remaining                  
</span></span><span class=line><span class=cl><span class=c1># ... Saída suprimida</span>
</span></span><span class=line><span class=cl>Compressed keep-case of <span class=m>596998</span> nodes<span class=p>;</span> <span class=m>596998</span> <span class=o>(</span>100%<span class=o>)</span> remaining
</span></span><span class=line><span class=cl>Compressing word tree...
</span></span><span class=line><span class=cl>Compressed <span class=k>case</span>-folded of <span class=m>55323495</span> nodes<span class=p>;</span> <span class=m>47773995</span> <span class=o>(</span>86%<span class=o>)</span> remaining
</span></span><span class=line><span class=cl>Compressed keep-case of <span class=m>746484</span> nodes<span class=p>;</span> <span class=m>601437</span> <span class=o>(</span>80%<span class=o>)</span> remaining
</span></span><span class=line><span class=cl>Writing spell file pt.utf-8.spl...
</span></span><span class=line><span class=cl>Done!
</span></span></code></pre></div><p>A saída é um arquivo <code>pt.utf-8.spl</code>, mova-o para <code>~/.local/share/nvim/spell/</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ mv /tmp/vero/pt.utf-8.spl ~/.local/share/nvim/spell
</span></span></code></pre></div><p>Obs.: De acordo com a documentação, o neovim busca por spellfiles no <a href=https://neovim.io/doc/user/spell.html#spell-load>runtimepath</a> no diretório <code>spell</code>.</p><h3 id=uso>Uso</h3><p>A medida que o corretor ortográfico detecta a palavra incorreta, essa é marcada com um sublinhado. Para corrigi-la, posicione o cursor sob a mesma, no modo Visual pressione <code>z + =</code>. Um menu irá mostrar as palavras sugeridas pelo corretor, então é só escolher a correta.</p><p>No modo de inserção depois da palavra com erro ortográfico, pressione <code>ctrl + x + s</code> para exibir a caixa de sugestões, funciona como o autocompletar de palavras usando o <code>ctrl + p</code>.</p><ul><li><p>Ativar o corretor ortográfico:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl><span class=p>:</span><span class=nx>setlocal</span> <span class=nx>spell</span> <span class=nx>spelllang</span><span class=p>=</span><span class=nx>pt_br</span><span class=p>,</span><span class=nx>en</span><span class=err>
</span></span></span></code></pre></div><p>Obs.: É possivel ativar mais de uma linguagem</p></li><li><p>Carregar um arquivo <code>.spl</code> e ativá-los</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl><span class=p>:</span> <span class=nx>setlocal</span> <span class=nx>spell</span> <span class=nx>spellfile</span><span class=p>=</span><span class=s2>&#34;/usr/share/vim/vimfiles/spell/pt.utf-8.spl&#34;</span> <span class=nx>spelllang</span><span class=p>=</span><span class=nx>pt_br</span> <span class=err>
</span></span></span></code></pre></div></li><li><p>Para desativar o corretor:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl><span class=p>:</span><span class=nx>set</span> <span class=nx>nospell</span><span class=err>
</span></span></span></code></pre></div></li></ul><h3 id=comandos-do-corretor-ortográfico-no-modo-visual>Comandos do corretor ortográfico no modo visual:</h3><table><thead><tr><th>Comando</th><th>Ação</th></tr></thead><tbody><tr><td>]s</td><td>busca a próxima palavra</td></tr><tr><td>[s</td><td>busca a palavra anterior</td></tr><tr><td>z=</td><td>mostra a lista de sugestões para a palavra</td></tr><tr><td>zg</td><td>adiciona a palavra sob o cursor no dicionário, assim ela não será mais marcada como errada</td></tr><tr><td>zug</td><td>desfaz a última palavra adicionada</td></tr><tr><td>zw</td><td>remove a palavra sob o cursor do dicionário, assim ela será marcada como errada</td></tr><tr><td>zuw</td><td>desfaz a última palavra removida</td></tr></tbody></table><h3 id=comandos-do-corretor-ortográfico-no-modo-inserção>Comandos do corretor ortográfico no modo inserção</h3><table><thead><tr><th>Comando</th><th>Ação</th></tr></thead><tbody><tr><td>ctrl + x + s</td><td>Exibir a caixa de sugestões</td></tr><tr><td>ctrl + n</td><td>Avançar para a próxima sugestão</td></tr><tr><td>ctrl + p</td><td>Voltar para a sugestão anterior</td></tr></tbody></table><h3 id=ativar-o-corretor-ortográfico-baseado-no-tipo-de-arquivo>Ativar o corretor ortográfico baseado no tipo de arquivo</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl><span class=nx>vim</span>.<span class=nx>cmd</span> [[ <span class=nx>autocmd</span> <span class=nx>BufRead</span><span class=p>,</span> <span class=nx>BufNewFile</span> *.<span class=nx>md</span> <span class=nx>setlocal</span> <span class=nx>spell</span> <span class=nx>spelllang</span><span class=p>=</span><span class=nx>pt_br</span>]]<span class=err>
</span></span></span></code></pre></div><h3 id=ativar-o-corretor-ortográfica-sob-demanda>Ativar o corretor ortográfica sob demanda</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl><span class=nx>nnoremap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nx>F3</span><span class=p>&gt;</span> :<span class=nx>set</span> <span class=nx>spell</span><span class=p>!&lt;</span><span class=nx>CR</span><span class=p>&gt;</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=nx>inoremap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nx>F3</span><span class=p>&gt;&lt;</span><span class=nx>C</span><span class=p>-</span><span class=nx>O</span><span class=p>&gt;</span>:<span class=nx>set</span> <span class=nx>spell</span><span class=p>!&lt;</span><span class=nx>CR</span><span class=p>&gt;</span> <span class=err>
</span></span></span></code></pre></div><h3 id=configuração-global-opcional>Configuração global (opcional)</h3><p>No arquivo <code>init.vim</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl><span class=c>&#34;spell languages</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=nx>set</span> <span class=nx>spelllang</span><span class=p>=</span><span class=nx>pt_br</span><span class=err>
</span></span></span></code></pre></div><p>No arquivo <code>init.lua</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=cl><span class=n>vim.o</span><span class=p>.</span><span class=n>spelllang</span><span class=o>=</span><span class=s2>&#34;pt_br&#34;</span>
</span></span></code></pre></div><h3 id=outras-linguagenshttpftpvimorgvimruntimespell><a href=http://ftp.vim.org/vim/runtime/spell/>Outras linguagens</a></h3><p>No web site do vim.org existe um <a href=http://ftp.vim.org/vim/runtime/spell/>diretório</a> com as linguagens disponibilizadas pelo vim. Então simplesmente escolha uma, baixe no diretório <code>~/.local/share/nvim/spell</code> e ative o corretor ortográfico.</p><p><a href=https://neovim.io/doc/user/spell.html>Nvim documentation: spell</a></p></div><footer><p>&copy; 2022 André P. Santos.
Powered by <a href=https://gohugo.io/>Hugo</a>
using the <a href=https://github.com/koirand/pulp/>pulp</a> theme.</p></footer></body></html>